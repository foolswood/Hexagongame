<html>
<body>
<h1>How to play</h1>
<object id="A" type="image/svg+xml" data="hexagons.svg" width="150" height="150"></object>
<p>The player marker may move through sides that match its colour. In this case it may move through the red sides.</p>
<p>The player marker changes colour to that of the hexagon which was just exited.</p>
<object id="B" type="image/svg+xml" data="hexagons.svg" width="150" height="150"></object>
<p>If the player marker is white it may move through sides of any colour. Any marker colour may move through a white side.</p>
<object id="C" type="image/svg+xml" data="hexagons.svg" width="150" height="150"></object>
<p>The aim is to get the player marker to the finish ring.</p>
<object id="D" type="image/svg+xml" data="hexagons.svg" width="150" height="150"></object>
<p>If you get stuck click on the player marker to return to the begining of a maze. If you are already at the start of a maze clicking on the player marker returns you to the menu.</p>
<h2>Choosing a maze</h2>
<p>Hexagons with small circles on them are the level selectors, click on them to play the mazes inside (they can, and do, nest).</p>
<object id="menu_example" type="image/svg+xml" data="hexagons.svg" width="150" height="150"></object>
<p>Colours that you completed the inner maze with will appear in the small circles, which can then be used to "colour in" that hexagon in the containing maze.</p>
<p>Click the medium white circle to play the menu maze. Click the yellow house to go up a menu level.</p>
<h2>Shard collect mode</h2>
<p>In some mazes the player marker is "sharded" and must be reassembled. When moving in shard mode the colour of the shards are linked.</p>
<object id="shard_example" type="image/svg+xml" data="hexagons.svg" width="150" height="150"></object>
<p>When 2 shards move together from different coloured hexagons the resulting player colour will be white.</p>
</body>

<script src="svg_interface.es" type="text/ecmascript"></script>
<script src="serialiser.es" type="text/ecmascript"></script>

<script>
window.onload = function() {
    encircled = ['  Y  ', '  g  ', 'BrGbB', ' gbr ', 'Y B Y']
    var i = new SVGInterface("A")
    loadMaze(encircled, i)
    var ipm = i.getShardMarkers(1).shards[0]
    ipm.position = [1,1]
    ipm.colour = "r"

    var j = new SVGInterface("B")
    loadMaze(encircled, j)
    var jpm = j.getShardMarkers(1).shards[0]
    jpm.position = [1,1]
    jpm.colour = "w"

    var k = new SVGInterface("C")
    loadMaze(['RgB'], k)
    var kpm = k.getShardMarkers(1).shards[0]
    kpm.position = [0,0]
    kpm.colour = "w"
    k.endMarker.position = [1,0]
    k.endMarker.visible = true

    var l = new SVGInterface("D")
    loadMaze(['RgB'], l)
    var lpm = l.getShardMarkers(1).shards[0]
    lpm.position = [1,0]
    lpm.colour = "r"

    var menu_example = new SVGInterface("menu_example")
    loadMaze(['NgR'], menu_example)
    let endMarkers = menu_example.addFinishMarkers([0,0], 2);
    endMarkers[0].colour = "g"
    endMarkers[1].colour = "n"
    menu_example.revealMetaMarkers([1,0])

    var sharded = new SVGInterface("shard_example")
    loadMaze(encircled, sharded)
    var shard_pms = sharded.getShardMarkers(2)
    shard_pms.shards[0].position = [0,1]
    shard_pms.shards[1].position = [2,2]
    shard_pms.shards.forEach((s) => s.colour = "r")
}
</script>
</html>
